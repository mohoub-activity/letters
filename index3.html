<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„Ø¹Ø¨Ø© ØªØ¹Ù„Ù… Ø§Ù„Ø­Ø±ÙˆÙ - Ø¥ØµØ¯Ø§Ø± Ù…Ø­Ø³Ù‘Ù†</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Comic Sans MS', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #ffccd5, #b5ead7, #ffdac1, #e2f0cb);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            padding: 20px;
            background: linear-gradient(45deg, #ff8fab, #ffb3c6);
            border-radius: 25px;
            color: white;
            margin-bottom: 20px;
            border: 5px solid #ffd166;
            box-shadow: 0 10px 20px rgba(255, 143, 171, 0.3);
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            text-shadow: 3px 3px 0 #ff6b9d;
        }
        
        .subtitle {
            font-size: 1.3rem;
            color: #fff9db;
        }
        
        /* Ø§Ù„Ø´Ø§Ø´Ø§Øª */
        .screen {
            background-color: white;
            padding: 30px;
            border-radius: 25px;
            margin-bottom: 20px;
            display: none;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            border: 4px solid #ff8fab;
        }
        
        .screen.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Ø´Ø§Ø´Ø© Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù„ØºØ© */
        .language-options {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 30px;
            flex-wrap: wrap;
        }
        
        /* Ø´Ø§Ø´Ø© Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø­Ø±Ù */
        .letters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        /* Ø´Ø§Ø´Ø© Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ø±Ø­Ù„Ø© */
        .stages-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        /* Ø´Ø§Ø´Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© */
        .game-info {
            display: flex;
            justify-content: space-around;
            background: linear-gradient(45deg, #a0e7e5, #b5ead7);
            padding: 20px;
            border-radius: 20px;
            margin-bottom: 30px;
            border: 4px solid #4db6ac;
            box-shadow: 0 5px 15px rgba(77, 182, 172, 0.2);
        }
        
        .info-box {
            text-align: center;
            padding: 10px;
        }
        
        .info-label {
            font-weight: bold;
            color: #2d6a4f;
            font-size: 1.1rem;
            margin-bottom: 5px;
        }
        
        .info-value {
            font-weight: bold;
            color: #ff8fab;
            font-size: 2.5rem;
            text-shadow: 2px 2px 0 #ffccd5;
        }
        
        /* Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø¹Ø§Ù…Ø© */
        .btn {
            padding: 18px 35px;
            font-size: 1.3rem;
            background: linear-gradient(45deg, #ff8fab, #ff6b9d);
            border: none;
            border-radius: 20px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            margin: 5px;
            display: inline-flex;
            align-items: center;
            gap: 12px;
            box-shadow: 0 6px 0 #ff4d8d;
        }
        
        .btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 0 #ff4d8d;
        }
        
        .btn:active {
            transform: translateY(2px);
            box-shadow: 0 2px 0 #ff4d8d;
        }
        
        .btn-secondary {
            background: linear-gradient(45deg, #a0e7e5, #4db6ac);
            box-shadow: 0 6px 0 #2d6a4f;
        }
        
        .btn-secondary:hover {
            box-shadow: 0 8px 0 #2d6a4f;
        }
        
        .btn-back {
            background: linear-gradient(45deg, #ffd166, #ffb300);
            color: #333;
            box-shadow: 0 6px 0 #ff9800;
        }
        
        .btn-back:hover {
            box-shadow: 0 8px 0 #ff9800;
        }
        
        .card {
            background: linear-gradient(135deg, #ffccd5, #ffb3c6);
            border-radius: 20px;
            padding: 25px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 4px solid transparent;
            box-shadow: 0 8px 15px rgba(255, 143, 171, 0.2);
            position: relative;
            overflow: hidden;
        }
        
        .card:hover {
            transform: translateY(-10px) scale(1.05);
            box-shadow: 0 15px 30px rgba(255, 143, 171, 0.3);
            border-color: #ff6b9d;
        }
        
        .card:before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, rgba(255,255,255,0) 70%);
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .card:hover:before {
            opacity: 1;
        }
        
        .card.selected {
            background: linear-gradient(135deg, #ff6b9d, #ff8fab);
            color: white;
            transform: scale(1.05);
        }
        
        .card.completed {
            background: linear-gradient(135deg, #a0e7e5, #4db6ac);
            border-color: #2d6a4f;
        }
        
        .letter-display {
            font-size: 6rem;
            text-align: center;
            margin: 30px 0;
            color: #ff8fab;
            font-family: 'Comic Sans MS', 'Traditional Arabic', 'Arial', sans-serif;
            text-shadow: 4px 4px 0 #ffccd5;
            font-weight: 900;
        }
        
        .letter-display.english {
            font-family: 'Comic Sans MS', 'Arial', sans-serif;
        }
        
        .mission {
            text-align: center;
            background: linear-gradient(45deg, #e2f0cb, #b5ead7);
            padding: 25px;
            border-radius: 20px;
            margin: 25px 0;
            border: 4px dashed #a0e7e5;
            box-shadow: 0 5px 15px rgba(162, 228, 184, 0.2);
        }
        
        .mission-text {
            font-size: 1.8rem;
            font-weight: bold;
            color: #2d6a4f;
            margin-bottom: 10px;
        }
        
        .mission-subtext {
            font-size: 1.3rem;
            color: #4db6ac;
        }
        
        /* Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ø±Ø§Ø­Ù„ */
        .stage-content {
            margin: 25px 0;
        }
        
        /* Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1 - Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø­Ø±Ù (Ù…Ø³ØªÙˆÙŠØ§Øª Ù…Ø®ØªÙ„ÙØ©) */
        .level-selection {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
        }
        
        .level-btn {
            padding: 15px 30px;
            font-size: 1.2rem;
            border-radius: 15px;
            border: none;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .level-btn.easy {
            background: linear-gradient(45deg, #a0e7e5, #4db6ac);
            color: white;
            box-shadow: 0 4px 0 #2d6a4f;
        }
        
        .level-btn.medium {
            background: linear-gradient(45deg, #ffd166, #ffb300);
            color: #333;
            box-shadow: 0 4px 0 #ff9800;
        }
        
        .level-btn.hard {
            background: linear-gradient(45deg, #ff8fab, #ff6b9d);
            color: white;
            box-shadow: 0 4px 0 #ff4d8d;
        }
        
        .level-btn:hover {
            transform: translateY(-3px);
        }
        
        .letters-game-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .letter-game-card {
            background: linear-gradient(135deg, #ffdac1, #ffb4a2);
            border-radius: 20px;
            padding: 35px;
            font-size: 3.5rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Comic Sans MS', 'Traditional Arabic', 'Arial', sans-serif;
            font-weight: 900;
            border: 5px solid transparent;
            box-shadow: 0 10px 20px rgba(255, 180, 162, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            aspect-ratio: 1/1;
            text-shadow: 3px 3px 0 rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }
        
        .letter-game-card.easy {
            background: linear-gradient(135deg, #e2f0cb, #b5ead7);
            border-color: #a0e7e5;
            font-size: 4rem;
        }
        
        .letter-game-card.medium {
            background: linear-gradient(135deg, #ffdac1, #ffb4a2);
            border-color: #ff9c8e;
            font-size: 3.5rem;
        }
        
        .letter-game-card.hard {
            background: linear-gradient(135deg, #ffccd5, #ff8fab);
            border-color: #ff6b9d;
            font-size: 3rem;
        }
        
        .letter-game-card:hover {
            transform: scale(1.1) rotate(5deg);
            box-shadow: 0 15px 30px rgba(0,0,0,0.2);
        }
        
        .letter-game-card.correct {
            background: linear-gradient(135deg, #c8e6c9, #a5d6a7);
            border-color: #4caf50;
            color: #2e7d32;
            animation: celebrate 0.5s ease;
        }
        
        .letter-game-card.wrong {
            background: linear-gradient(135deg, #ffcdd2, #ff8a80);
            border-color: #f44336;
            color: #c62828;
            animation: shake 0.5s ease;
        }
        
        .letter-game-card.english {
            font-family: 'Comic Sans MS', 'Arial', sans-serif;
        }
        
        /* Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2 - Ø§Ù„ÙƒØªØ§Ø¨Ø© */
        .drawing-area {
            width: 100%;
            height: 350px;
            background: linear-gradient(45deg, #f8f9fa, #e9ecef);
            border-radius: 25px;
            border: 6px solid #a0e7e5;
            margin: 30px 0;
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 25px rgba(160, 231, 229, 0.3);
        }
        
        #drawingCanvas {
            width: 100%;
            height: 100%;
            display: block;
            cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Ccircle cx='16' cy='16' r='14' fill='%23ff8fab' stroke='%23fff' stroke-width='2'/%3E%3C/svg%3E") 16 16, crosshair;
        }
        
        .drawing-guide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            pointer-events: none;
            font-size: 12rem;
            color: rgba(255, 143, 171, 0.15);
            font-family: 'Comic Sans MS', 'Traditional Arabic', 'Arial', sans-serif;
            font-weight: 900;
        }
        
        /* Ø§Ù„Ù…Ø±Ø­Ù„Ø© 3 - Ø§Ù„ÙƒÙ„Ù…Ø§Øª (ØµÙˆØ±) */
        .images-game-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }
        
        .image-card {
            background: linear-gradient(135deg, #e2f0cb, #b5ead7);
            border-radius: 20px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 5px solid transparent;
            box-shadow: 0 10px 20px rgba(162, 228, 184, 0.2);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            min-height: 280px;
        }
        
        .image-card:hover {
            transform: translateY(-10px) scale(1.05);
            box-shadow: 0 20px 40px rgba(162, 228, 184, 0.3);
        }
        
        .image-card.correct {
            background: linear-gradient(135deg, #c8e6c9, #a5d6a7);
            border-color: #4caf50;
        }
        
        .image-card.wrong {
            background: linear-gradient(135deg, #ffcdd2, #ff8a80);
            border-color: #f44336;
            animation: shake 0.5s ease;
        }
        
        .image-emoji {
            font-size: 5rem;
            margin: 20px 0;
        }
        
        .image-name {
            font-size: 1.8rem;
            font-weight: bold;
            color: #2d6a4f;
            margin-bottom: 10px;
        }
        
        .image-letter {
            font-size: 2.5rem;
            font-weight: 900;
            color: #ff8fab;
            font-family: 'Comic Sans MS', 'Traditional Arabic', 'Arial', sans-serif;
            text-shadow: 2px 2px 0 #ffccd5;
        }
        
        .image-card.english .image-letter {
            font-family: 'Comic Sans MS', 'Arial', sans-serif;
        }
        
        /* Ø§Ù„Ù…Ø±Ø­Ù„Ø© 4 - Ø§Ù„ØµÙˆØª */
        .sound-controls {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 25px;
            margin: 30px 0;
        }
        
        .sound-btn {
            padding: 25px 50px;
            font-size: 1.8rem;
            background: linear-gradient(45deg, #ff8fab, #ff6b9d);
            border: none;
            border-radius: 25px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 8px 0 #ff4d8d;
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .sound-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 0 #ff4d8d;
        }
        
        .sound-btn:active {
            transform: translateY(3px);
            box-shadow: 0 4px 0 #ff4d8d;
        }
        
        .sound-options {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 25px;
            width: 100%;
            max-width: 800px;
        }
        
        .sound-card {
            background: linear-gradient(135deg, #ffdac1, #ffb4a2);
            border-radius: 20px;
            padding: 40px;
            font-size: 4rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 5px solid transparent;
            font-family: 'Comic Sans MS', 'Traditional Arabic', 'Arial', sans-serif;
            font-weight: 900;
            display: flex;
            align-items: center;
            justify-content: center;
            aspect-ratio: 1/1;
        }
        
        .sound-card:hover {
            transform: scale(1.1);
            box-shadow: 0 15px 30px rgba(0,0,0,0.2);
        }
        
        .sound-card.correct {
            background: linear-gradient(135deg, #c8e6c9, #a5d6a7);
            border-color: #4caf50;
            color: #2e7d32;
        }
        
        .sound-card.wrong {
            background: linear-gradient(135deg, #ffcdd2, #ff8a80);
            border-color: #f44336;
            color: #c62828;
            animation: shake 0.5s ease;
        }
        
        /* Ø§Ù„Ù…Ø±Ø­Ù„Ø© 5 - Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø´Ø§Ù…Ù„Ø© */
        .review-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }
        
        .review-card {
            background: linear-gradient(135deg, #e2f0cb, #b5ead7);
            border-radius: 25px;
            padding: 30px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            border: 5px solid #a0e7e5;
            box-shadow: 0 10px 25px rgba(162, 228, 184, 0.2);
            min-height: 250px;
        }
        
        .review-question {
            font-size: 1.5rem;
            font-weight: bold;
            color: #2d6a4f;
            margin-bottom: 10px;
            text-align: center;
        }
        
        .review-options {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            justify-content: center;
        }
        
        .review-option {
            padding: 15px 25px;
            font-size: 1.5rem;
            background: linear-gradient(45deg, #ffdac1, #ffb4a2);
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s;
            border: 3px solid #ff9c8e;
            min-width: 100px;
            text-align: center;
            font-family: 'Comic Sans MS', 'Traditional Arabic', 'Arial', sans-serif;
        }
        
        .review-option:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(255, 156, 142, 0.3);
        }
        
        .review-option.selected {
            background: linear-gradient(45deg, #ff8fab, #ff6b9d);
            color: white;
            border-color: #ff4d8d;
            transform: scale(1.05);
        }
        
        .review-option.correct {
            background: linear-gradient(45deg, #c8e6c9, #a5d6a7);
            border-color: #4caf50;
            color: #2e7d32;
        }
        
        .review-option.wrong {
            background: linear-gradient(45deg, #ffcdd2, #ff8a80);
            border-color: #f44336;
            color: #c62828;
        }
        
        /* Ø§Ù„ØªØºØ°ÙŠØ© Ø§Ù„Ø±Ø§Ø¬Ø¹Ø© */
        .feedback {
            text-align: center;
            padding: 30px;
            background: linear-gradient(45deg, #e2f0cb, #b5ead7);
            border-radius: 25px;
            margin: 30px 0;
            min-height: 150px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border: 5px solid #a0e7e5;
            box-shadow: 0 10px 25px rgba(162, 228, 184, 0.2);
        }
        
        .feedback-text {
            font-size: 1.8rem;
            font-weight: bold;
            color: #2d6a4f;
            margin-bottom: 15px;
        }
        
        .reward {
            font-size: 4rem;
            margin: 15px 0;
        }
        
        /* Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ù…ØªØ¬Ø§ÙˆØ¨ */
        @media (max-width: 768px) {
            h1 {
                font-size: 2.2rem;
            }
            
            .letters-grid {
                grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
                gap: 15px;
            }
            
            .stages-grid {
                grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            }
            
            .letter-game-card {
                font-size: 2.5rem;
                padding: 25px;
            }
            
            .letter-game-card.easy { font-size: 3rem; }
            .letter-game-card.medium { font-size: 2.5rem; }
            .letter-game-card.hard { font-size: 2rem; }
            
            .sound-card {
                font-size: 3rem;
                padding: 30px;
            }
            
            .game-info {
                flex-direction: column;
                gap: 15px;
            }
            
            .images-game-grid {
                grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            }
            
            .review-container {
                grid-template-columns: 1fr;
            }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); }
            20%, 40%, 60%, 80% { transform: translateX(10px); }
        }
        
        @keyframes celebrate {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
        
        .celebrate {
            animation: celebrate 0.5s ease-in-out 3;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        
        .bounce {
            animation: bounce 0.5s ease-in-out 2;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }
        
        .pulse {
            animation: pulse 1s ease-in-out infinite;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ® Ù„Ø¹Ø¨Ø© ØªØ¹Ù„Ù… Ø§Ù„Ø­Ø±ÙˆÙ - Ù…ÙˆÙ‡ÙˆØ¨ ğŸŒŸ</h1>
            <p class="subtitle">ØªØ¹Ù„Ù… Ø§Ù„Ø­Ø±ÙˆÙ Ø¨Ø·Ø±ÙŠÙ‚Ø© ØªÙØ§Ø¹Ù„ÙŠØ© Ù…Ù„ÙŠØ¦Ø© Ø¨Ø§Ù„Ù…Ø±Ø­ ÙˆØ§Ù„Ù…ØªØ¹Ø©!</p>
        </header>
        
        <!-- Ø´Ø§Ø´Ø© Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù„ØºØ© -->
        <div id="languageScreen" class="screen active">
            <h2 style="text-align: center; color: #ff8fab; margin-bottom: 30px; font-size: 2.2rem;">Ø§Ø®ØªØ± Ø§Ù„Ù„ØºØ©</h2>
            <div class="language-options">
                <button class="btn" onclick="selectLanguage('arabic')">
                    <i class="fas fa-language"></i> Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
                </button>
                <button class="btn" onclick="selectLanguage('english')">
                    <i class="fas fa-language"></i> English
                </button>
            </div>
        </div>
        
        <!-- Ø´Ø§Ø´Ø© Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø­Ø±Ù -->
        <div id="letterScreen" class="screen">
            <h2 style="text-align: center; color: #ff8fab; margin-bottom: 30px; font-size: 2.2rem;">Ø§Ø®ØªØ± Ø§Ù„Ø­Ø±Ù</h2>
            <div id="lettersContainer" class="letters-grid"></div>
            <div style="text-align: center; margin-top: 30px;">
                <button class="btn btn-back" onclick="showScreen('languageScreen')">
                    <i class="fas fa-arrow-right"></i> Ø§Ù„Ø¹ÙˆØ¯Ø©
                </button>
            </div>
        </div>
        
        <!-- Ø´Ø§Ø´Ø© Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ø±Ø­Ù„Ø© -->
        <div id="stageScreen" class="screen">
            <h2 style="text-align: center; color: #ff8fab; margin-bottom: 30px; font-size: 2.2rem;">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø±Ø­Ù„Ø©</h2>
            <div id="selectedLetterDisplay" class="letter-display">Ø£</div>
            <div id="stagesContainer" class="stages-grid"></div>
            <div style="text-align: center; margin-top: 30px;">
                <button class="btn btn-back" onclick="showScreen('letterScreen')">
                    <i class="fas fa-arrow-right"></i> Ø§Ù„Ø¹ÙˆØ¯Ø©
                </button>
            </div>
        </div>
        
        <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© -->
        <div id="gameScreen" class="screen">
            <div class="game-info">
                <div class="info-box">
                    <div class="info-label">Ø§Ù„Ù…Ø±Ø­Ù„Ø©</div>
                    <div id="currentStageDisplay" class="info-value">1</div>
                </div>
                <div class="info-box">
                    <div class="info-label">Ø§Ù„Ù†ØªÙŠØ¬Ø©</div>
                    <div id="scoreDisplay" class="info-value">0</div>
                </div>
                <div class="info-box">
                    <div id="stageNameDisplay" class="info-label">Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ø­Ø±Ù</div>
                </div>
            </div>
            
            <div id="stageContent" class="stage-content">
                <!-- Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø³ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„Ù‡ Ù‡Ù†Ø§ -->
            </div>
            
            <div class="feedback" id="feedbackArea">
                <div id="feedbackText" class="feedback-text">Ù…Ø±Ø­Ø¨Ø§Ù‹! Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰</div>
                <div id="rewardIcon" class="reward">ğŸ”</div>
            </div>
            
            <div style="text-align: center; margin-top: 30px;">
                <button class="btn btn-secondary" onclick="provideHint()">
                    <i class="fas fa-lightbulb"></i> Ù…Ø³Ø§Ø¹Ø¯Ø©
                </button>
                <button class="btn btn-secondary" onclick="restartStage()">
                    <i class="fas fa-redo"></i> Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©
                </button>
                <button class="btn" id="nextStageBtn" onclick="nextStage()" style="display: none;">
                    <i class="fas fa-arrow-right"></i> Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©
                </button>
                <button class="btn btn-back" onclick="showScreen('stageScreen')">
                    <i class="fas fa-arrow-right"></i> Ø§Ù„Ø¹ÙˆØ¯Ø©
                </button>
            </div>
        </div>
    </div>

    <script>
        // ============ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø© ============
        let selectedLanguage = '';
        let selectedLetter = '';
        let currentStage = 1;
        let score = 0;
        let gameActive = true;
        let currentLevel = 'easy'; // Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµØ¹ÙˆØ¨Ø© Ø§Ù„Ø­Ø§Ù„ÙŠ
        
        // Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (5 Ø­Ø±ÙˆÙ ÙÙ‚Ø·)
        const arabicLetters = ['Ø£', 'Ø¨', 'Øª', 'Ø«', 'Ø¬'];
        
        // Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© (5 Ø­Ø±ÙˆÙ ÙÙ‚Ø·)
        const englishLetters = ['A', 'B', 'C', 'D', 'E'];
        
        // Ø§Ù„Ù…Ø±Ø§Ø­Ù„ Ø§Ù„Ø®Ù…Ø³
        const stages = [
            { id: 1, name: "Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ø­Ø±Ù", icon: "ğŸ”", description: "Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø­Ø±Ù Ø¨ÙŠÙ† Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø£Ø®Ø±Ù‰" },
            { id: 2, name: "ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø­Ø±Ù", icon: "âœï¸", description: "Ø§Ø±Ø³Ù… Ø§Ù„Ø­Ø±Ù Ø¨Ø·Ø±ÙŠÙ‚Ø© ØµØ­ÙŠØ­Ø©" },
            { id: 3, name: "Ø§ÙƒØªØ´Ø§Ù Ø§Ù„ØµÙˆØ±", icon: "ğŸ–¼ï¸", description: "Ø§Ø®ØªØ± Ø§Ù„ØµÙˆØ± Ø§Ù„ØªÙŠ ØªØ¨Ø¯Ø£ Ø¨Ø§Ù„Ø­Ø±Ù" },
            { id: 4, name: "ØµÙˆØª Ø§Ù„Ø­Ø±Ù", icon: "ğŸ”Š", description: "Ø§Ø³ØªÙ…Ø¹ Ù„Ù„ØµÙˆØª ÙˆØ§Ø®ØªØ± Ø§Ù„Ø­Ø±Ù Ø§Ù„ØµØ­ÙŠØ­" },
            { id: 5, name: "Ù…Ø±Ø§Ø¬Ø¹Ø© Ø´Ø§Ù…Ù„Ø©", icon: "ğŸ¯", description: "Ø§Ø®ØªØ¨Ø§Ø± Ø´Ø§Ù…Ù„ Ù„ÙƒÙ„ Ù…Ø§ ØªØ¹Ù„Ù…ØªÙ‡" }
        ];
        
        // Ø£ØµÙˆØ§Øª Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (Ù†Ø³Ø®Ø© Ù…Ø­Ø§ÙƒØ§Ø©)
        const arabicLetterSounds = {
            'Ø£': 'Ø£Ù„Ù',
            'Ø¨': 'Ø¨Ø§Ø¡',
            'Øª': 'ØªØ§Ø¡',
            'Ø«': 'Ø«Ø§Ø¡',
            'Ø¬': 'Ø¬ÙŠÙ…'
        };
        
        // Ø£ØµÙˆØ§Øª Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© (Ù†Ø³Ø®Ø© Ù…Ø­Ø§ÙƒØ§Ø©)
        const englishLetterSounds = {
            'A': 'Ø¥ÙŠÙ‡',
            'B': 'Ø¨ÙŠ',
            'C': 'Ø³ÙŠ',
            'D': 'Ø¯ÙŠ',
            'E': 'Ø¥ÙŠ'
        };
        
        // Ø§Ù„ØµÙˆØ± ÙˆØ§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…Ø±Ø¦ÙŠØ© Ù„ÙƒÙ„ Ø­Ø±Ù
        const arabicImages = {
            'Ø£': [{ emoji: 'ğŸ°', name: 'Ø£Ø±Ù†Ø¨' }, { emoji: 'ğŸ¦', name: 'Ø£Ø³Ø¯' }, { emoji: 'ğŸ‘©', name: 'Ø£Ù…' }],
            'Ø¨': [{ emoji: 'ğŸšª', name: 'Ø¨Ø§Ø¨' }, { emoji: 'ğŸ ', name: 'Ø¨ÙŠØª' }, { emoji: 'ğŸŒŠ', name: 'Ø¨Ø­Ø±' }],
            'Øª': [{ emoji: 'ğŸ', name: 'ØªÙØ§Ø­Ø©' }, { emoji: 'ğŸ‘‘', name: 'ØªØ§Ø¬' }, { emoji: 'ğŸŠ', name: 'ØªÙ…Ø³Ø§Ø­' }],
            'Ø«': [{ emoji: 'ğŸ¦Š', name: 'Ø«Ø¹Ù„Ø¨' }, { emoji: 'ğŸ‘—', name: 'Ø«ÙˆØ¨' }, { emoji: 'ğŸ¥•', name: 'Ø«Ù…Ø±Ø©' }],
            'Ø¬': [{ emoji: 'ğŸ«', name: 'Ø¬Ù…Ù„' }, { emoji: 'ğŸ¥•', name: 'Ø¬Ø²Ø±' }, { emoji: 'ğŸ—»', name: 'Ø¬Ø¨Ù„' }]
        };
        
        const englishImages = {
            'A': [{ emoji: 'ğŸ', name: 'Apple' }, { emoji: 'ğŸœ', name: 'Ant' }, { emoji: 'âœˆï¸', name: 'Airplane' }],
            'B': [{ emoji: 'âš½', name: 'Ball' }, { emoji: 'ğŸ“š', name: 'Book' }, { emoji: 'ğŸ¦', name: 'Bird' }],
            'C': [{ emoji: 'ğŸ±', name: 'Cat' }, { emoji: 'ğŸš—', name: 'Car' }, { emoji: 'ğŸ‚', name: 'Cake' }],
            'D': [{ emoji: 'ğŸ¶', name: 'Dog' }, { emoji: 'ğŸšª', name: 'Door' }, { emoji: 'ğŸ¦†', name: 'Duck' }],
            'E': [{ emoji: 'ğŸ¥š', name: 'Egg' }, { emoji: 'ğŸ˜', name: 'Elephant' }, { emoji: 'ğŸ‘‚', name: 'Ear' }]
        };
        
        // ============ Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ============
        
        // ØªØ¨Ø¯ÙŠÙ„ Ø¨ÙŠÙ† Ø§Ù„Ø´Ø§Ø´Ø§Øª
        function showScreen(screenId) {
            // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø´Ø§Ø´Ø§Øª
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
            document.getElementById(screenId).classList.add('active');
        }
        
        // Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù„ØºØ©
        function selectLanguage(language) {
            selectedLanguage = language;
            loadLetters();
            showScreen('letterScreen');
        }
        
        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø­Ø±ÙˆÙ
        function loadLetters() {
            const container = document.getElementById('lettersContainer');
            container.innerHTML = '';
            
            const letters = selectedLanguage === 'arabic' ? arabicLetters : englishLetters;
            
            letters.forEach(letter => {
                const card = document.createElement('div');
                card.className = 'card';
                card.innerHTML = `
                    <div style="font-size: 3.5rem; font-weight: 900; color: #ff8fab; text-shadow: 3px 3px 0 #ffccd5;">
                        ${letter}
                    </div>
                    <div style="margin-top: 10px; font-size: 0.9rem; color: #666;">
                        ${selectedLanguage === 'arabic' ? 'Ø­Ø±Ù Ø¹Ø±Ø¨ÙŠ' : 'English letter'}
                    </div>
                `;
                card.onclick = () => selectLetter(letter);
                
                container.appendChild(card);
            });
        }
        
        // Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø­Ø±Ù
        function selectLetter(letter) {
            selectedLetter = letter;
            
            // ØªØ­Ø¯ÙŠØ« Ø¹Ø±Ø¶ Ø§Ù„Ø­Ø±Ù Ø§Ù„Ù…Ø®ØªØ§Ø±
            const display = document.getElementById('selectedLetterDisplay');
            display.textContent = letter;
            display.className = selectedLanguage === 'arabic' ? 'letter-display' : 'letter-display english';
            
            loadStages();
            showScreen('stageScreen');
        }
        
        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø±Ø§Ø­Ù„
        function loadStages() {
            const container = document.getElementById('stagesContainer');
            container.innerHTML = '';
            
            stages.forEach(stage => {
                const card = document.createElement('div');
                card.className = 'card';
                card.innerHTML = `
                    <div style="font-size: 3rem; margin-bottom: 15px;">${stage.icon}</div>
                    <div style="font-size: 1.5rem; font-weight: bold; margin-bottom: 10px; color: #333;">${stage.name}</div>
                    <div style="font-size: 1rem; color: #666; line-height: 1.4;">${stage.description}</div>
                `;
                card.onclick = () => selectStage(stage.id);
                container.appendChild(card);
            });
        }
        
        // Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ø±Ø­Ù„Ø©
        function selectStage(stageId) {
            currentStage = stageId;
            startStage();
        }
        
        // Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø±Ø­Ù„Ø©
        function startStage() {
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶
            document.getElementById('currentStageDisplay').textContent = currentStage;
            document.getElementById('scoreDisplay').textContent = score;
            document.getElementById('stageNameDisplay').textContent = stages[currentStage-1].name;
            
            // Ø¥Ø®ÙØ§Ø¡ Ø²Ø± Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©
            document.getElementById('nextStageBtn').style.display = 'none';
            
            // ØªØ­Ù…ÙŠÙ„ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ø±Ø­Ù„Ø©
            loadStageContent();
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø´Ø§Ø´Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©
            showScreen('gameScreen');
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªÙ†Ø´ÙŠØ· Ø§Ù„Ù„Ø¹Ø¨Ø©
            gameActive = true;
            
            // Ø±Ø³Ø§Ù„Ø© Ø¨Ø¯Ø§ÙŠØ©
            showFeedback(`Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù…Ø±Ø­Ù„Ø© ${currentStage}: ${stages[currentStage-1].name}`, stages[currentStage-1].icon);
        }
        
        // ============ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ø±Ø§Ø­Ù„ ============
        
        // ØªØ­Ù…ÙŠÙ„ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
        function loadStageContent() {
            const container = document.getElementById('stageContent');
            container.innerHTML = '';
            
            switch(currentStage) {
                case 1:
                    loadStage1Content(container);
                    break;
                case 2:
                    loadStage2Content(container);
                    break;
                case 3:
                    loadStage3Content(container);
                    break;
                case 4:
                    loadStage4Content(container);
                    break;
                case 5:
                    loadStage5Content(container);
                    break;
            }
        }
        
        // Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1: Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ø­Ø±Ù (Ø¨Ù…Ø³ØªÙˆÙŠØ§Øª Ù…Ø®ØªÙ„ÙØ©)
        function loadStage1Content(container) {
            container.innerHTML = `
                <div class="mission">
                    <div class="mission-text">Ø§ÙƒØªØ´Ù Ø­Ø±Ù ${selectedLetter} Ø¨ÙŠÙ† Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„ØªØ§Ù„ÙŠØ©</div>
                    <div class="mission-subtext">Ø§Ø®ØªØ± Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµØ¹ÙˆØ¨Ø© Ø«Ù… Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø±Ù ${selectedLetter} Ø¹Ù†Ø¯Ù…Ø§ ØªØ¬Ø¯Ù‡</div>
                </div>
                <div class="level-selection">
                    <button class="level-btn easy" onclick="setLevel('easy')">Ø³Ù€Ù‡Ù€Ù€Ù„</button>
                    <button class="level-btn medium" onclick="setLevel('medium')">Ù…Ù€ØªÙ€ÙˆØ³Ù€Ø·</button>
                    <button class="level-btn hard" onclick="setLevel('hard')">ØµÙ€Ø¹Ù€Ø¨</button>
                </div>
                <div id="lettersGameContainer" class="letters-game-grid"></div>
            `;
            
            // ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ
            setLevel('easy');
        }
        
        // ØªØ¹ÙŠÙŠÙ† Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµØ¹ÙˆØ¨Ø©
        function setLevel(level) {
            currentLevel = level;
            
            // ØªØ­Ø¯ÙŠØ« Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª
            document.querySelectorAll('.level-btn').forEach(btn => {
                btn.style.transform = 'translateY(0)';
                btn.style.opacity = '0.8';
            });
            
            // ØªÙ…ÙŠÙŠØ² Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù…Ø®ØªØ§Ø±
            const selectedBtn = document.querySelector(`.level-btn.${level}`);
            selectedBtn.style.transform = 'translateY(-5px)';
            selectedBtn.style.opacity = '1';
            
            // Ø¥Ø¹Ø§Ø¯Ø© Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø±ÙˆÙ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³ØªÙˆÙ‰
            createLetterGame(level);
        }
        
        // Ø¥Ù†Ø´Ø§Ø¡ Ù„Ø¹Ø¨Ø© Ø§Ù„Ø­Ø±ÙˆÙ Ø­Ø³Ø¨ Ø§Ù„Ù…Ø³ØªÙˆÙ‰
        function createLetterGame(level) {
            const gameContainer = document.getElementById('lettersGameContainer');
            gameContainer.innerHTML = '';
            
            // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙƒÙ„ Ù…Ø³ØªÙˆÙ‰
            const levelSettings = {
                easy: { total: 9, target: 3, size: '4rem' },
                medium: { total: 12, target: 3, size: '3.5rem' },
                hard: { total: 16, target: 3, size: '3rem' }
            };
            
            const settings = levelSettings[level];
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ù…ØµÙÙˆÙØ© Ø§Ù„Ø­Ø±ÙˆÙ
            let letters = [];
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø­Ø±Ù Ø§Ù„Ù…Ø·Ù„ÙˆØ¨
            for (let i = 0; i < settings.target; i++) {
                letters.push(selectedLetter);
            }
            
            // Ø¥Ø¶Ø§ÙØ© Ø­Ø±ÙˆÙ Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©
            const allLetters = selectedLanguage === 'arabic' ? arabicLetters : englishLetters;
            for (let i = settings.target; i < settings.total; i++) {
                let randomLetter;
                do {
                    randomLetter = allLetters[Math.floor(Math.random() * allLetters.length)];
                } while (randomLetter === selectedLetter);
                letters.push(randomLetter);
            }
            
            // Ø®Ù„Ø· Ø§Ù„Ø­Ø±ÙˆÙ
            letters = shuffleArray(letters);
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø­Ø±ÙˆÙ
            letters.forEach(letter => {
                const card = document.createElement('div');
                card.className = `letter-game-card ${level} ${selectedLanguage === 'english' ? 'english' : ''}`;
                card.textContent = letter;
                card.onclick = () => checkLetterSelection(card, letter);
                gameContainer.appendChild(card);
            });
        }
        
        // Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2: ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø­Ø±Ù
        function loadStage2Content(container) {
            container.innerHTML = `
                <div class="mission">
                    <div class="mission-text">Ø§Ø±Ø³Ù… Ø­Ø±Ù ${selectedLetter} ÙÙŠ Ø§Ù„Ù…Ø³Ø§Ø­Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©</div>
                    <div class="mission-subtext">Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„ÙØ£Ø±Ø© Ø£Ùˆ Ø¥ØµØ¨Ø¹Ùƒ Ù„Ù„Ø±Ø³Ù… - Ø­Ø§ÙˆÙ„ ØªÙ‚Ù„ÙŠØ¯ Ø§Ù„Ø´ÙƒÙ„ Ø§Ù„Ø¸Ø§Ù‡Ø±</div>
                </div>
                <div class="drawing-area">
                    <canvas id="drawingCanvas"></canvas>
                    <div class="drawing-guide ${selectedLanguage === 'english' ? 'english' : ''}">${selectedLetter}</div>
                </div>
                <div style="text-align: center; margin: 20px 0;">
                    <button class="btn btn-secondary" onclick="clearDrawing()">
                        <i class="fas fa-eraser"></i> Ù…Ø³Ø­ Ø§Ù„Ø±Ø³Ù…
                    </button>
                    <button class="btn" onclick="checkDrawing()">
                        <i class="fas fa-check"></i> Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø±Ø³Ù…
                    </button>
                </div>
            `;
            
            // ØªÙ‡ÙŠØ¦Ø© Ù„ÙˆØ­Ø© Ø§Ù„Ø±Ø³Ù…
            setTimeout(initDrawingCanvas, 100);
        }
        
        // Ø§Ù„Ù…Ø±Ø­Ù„Ø© 3: Ø§ÙƒØªØ´Ø§Ù Ø§Ù„ØµÙˆØ±
        function loadStage3Content(container) {
            container.innerHTML = `
                <div class="mission">
                    <div class="mission-text">Ø§ÙƒØªØ´Ù Ø§Ù„ØµÙˆØ± Ø§Ù„ØªÙŠ ØªØ¨Ø¯Ø£ Ø¨Ø­Ø±Ù ${selectedLetter}</div>
                    <div class="mission-subtext">Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØ± Ø§Ù„ØµØ­ÙŠØ­Ø© - Ø­Ø§ÙˆÙ„ Ø¥ÙŠØ¬Ø§Ø¯ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙˆØ±</div>
                </div>
                <div id="imagesContainer" class="images-game-grid"></div>
            `;
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØµÙˆØ±
            createImagesGame();
        }
        
        // Ø¥Ù†Ø´Ø§Ø¡ Ù„Ø¹Ø¨Ø© Ø§Ù„ØµÙˆØ±
        function createImagesGame() {
            const container = document.getElementById('imagesContainer');
            container.innerHTML = '';
            
            // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØ± Ø§Ù„ØµØ­ÙŠØ­Ø©
            const correctImages = selectedLanguage === 'arabic' ? 
                (arabicImages[selectedLetter] || [{ emoji: 'â“', name: 'ØµÙˆØ±Ø©' }]) : 
                (englishImages[selectedLetter] || [{ emoji: 'â“', name: 'Image' }]);
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØµÙˆØ± (3 ØµØ­ÙŠØ­Ø© + 3 Ø®Ø§Ø·Ø¦Ø©)
            let images = [];
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØµÙˆØ± Ø§Ù„ØµØ­ÙŠØ­Ø©
            correctImages.forEach(img => {
                images.push({ ...img, correct: true });
            });
            
            // Ø¥Ø¶Ø§ÙØ© ØµÙˆØ± Ø®Ø§Ø·Ø¦Ø© (Ù…Ù† Ø­Ø±ÙˆÙ Ø£Ø®Ø±Ù‰)
            const allImages = selectedLanguage === 'arabic' ? arabicImages : englishImages;
            const otherLetters = selectedLanguage === 'arabic' ? 
                arabicLetters.filter(l => l !== selectedLetter) : 
                englishLetters.filter(l => l !== selectedLetter);
            
            // Ø§Ø®ØªÙŠØ§Ø± Ø­Ø±ÙÙŠÙ† Ø¹Ø´ÙˆØ§Ø¦ÙŠÙŠÙ† Ø¢Ø®Ø±ÙŠÙ†
            const randomLetters = [];
            while (randomLetters.length < 2 && otherLetters.length > 0) {
                const randomIndex = Math.floor(Math.random() * otherLetters.length);
                randomLetters.push(otherLetters[randomIndex]);
                otherLetters.splice(randomIndex, 1);
            }
            
            // Ø¥Ø¶Ø§ÙØ© ØµÙˆØ± Ù…Ù† Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø£Ø®Ø±Ù‰
            randomLetters.forEach(letter => {
                const letterImages = allImages[letter];
                if (letterImages && letterImages.length > 0) {
                    const randomImg = letterImages[Math.floor(Math.random() * letterImages.length)];
                    images.push({ ...randomImg, correct: false, letter: letter });
                }
            });
            
            // Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù„Ø¯ÙŠÙ†Ø§ 6 ØµÙˆØ±ØŒ Ù†Ø¶ÙŠÙ ØµÙˆØ± Ø¥Ø¶Ø§ÙÙŠØ©
            while (images.length < 6) {
                images.push({
                    emoji: ['ğŸ¶', 'ğŸ±', 'ğŸ­', 'ğŸ¹', 'ğŸ°', 'ğŸ¦Š', 'ğŸ»', 'ğŸ¼', 'ğŸ¨', 'ğŸ¯'][Math.floor(Math.random() * 10)],
                    name: selectedLanguage === 'arabic' ? 'ØµÙˆØ±Ø©' : 'Image',
                    correct: false
                });
            }
            
            // Ø®Ù„Ø· Ø§Ù„ØµÙˆØ±
            images = shuffleArray(images);
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„ØµÙˆØ±
            images.forEach((img, index) => {
                const card = document.createElement('div');
                card.className = 'image-card';
                card.innerHTML = `
                    <div class="image-emoji">${img.emoji}</div>
                    <div class="image-name">${img.name}</div>
                    <div class="image-letter ${selectedLanguage === 'english' ? 'english' : ''}">${img.letter || selectedLetter}</div>
                `;
                card.dataset.correct = img.correct;
                card.dataset.index = index;
                card.onclick = () => checkImageSelection(card);
                container.appendChild(card);
            });
        }
        
        // Ø§Ù„Ù…Ø±Ø­Ù„Ø© 4: ØµÙˆØª Ø§Ù„Ø­Ø±Ù
        function loadStage4Content(container) {
            container.innerHTML = `
                <div class="mission">
                    <div class="mission-text">Ø§Ø³ØªÙ…Ø¹ Ù„ØµÙˆØª Ø­Ø±Ù ${selectedLetter} Ø«Ù… Ø§Ø®ØªØ± Ø§Ù„Ø­Ø±Ù Ø§Ù„ØµØ­ÙŠØ­</div>
                    <div class="mission-subtext">ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ø¹Ø¯Ø© Ù…Ø±Ø§Øª ÙƒÙ…Ø§ ØªØ±ÙŠØ¯</div>
                </div>
                <div class="sound-controls">
                    <button class="sound-btn" id="playSoundBtn" onclick="playLetterSound()">
                        <i class="fas fa-volume-up"></i> Ø§Ø³ØªÙ…Ø¹ Ù„ØµÙˆØª Ø§Ù„Ø­Ø±Ù ${selectedLetter}
                    </button>
                    <div id="soundOptionsContainer" class="sound-options"></div>
                </div>
            `;
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„ØµÙˆØª
            createSoundOptions();
        }
        
        // Ø§Ù„Ù…Ø±Ø­Ù„Ø© 5: Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø´Ø§Ù…Ù„Ø©
        function loadStage5Content(container) {
            container.innerHTML = `
                <div class="mission">
                    <div class="mission-text">Ø§Ø®ØªØ¨Ø§Ø± Ø´Ø§Ù…Ù„ Ù„ÙƒÙ„ Ù…Ø§ ØªØ¹Ù„Ù…ØªÙ‡ Ø¹Ù† Ø­Ø±Ù ${selectedLetter}</div>
                    <div class="mission-subtext">Ø£Ø¬Ø¨ Ø¹Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ù„Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ù…Ø±Ø­Ù„Ø©</div>
                </div>
                <div id="reviewContainer" class="review-container"></div>
            `;
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©
            createReviewQuestions();
        }
        
        // ============ Ø¯ÙˆØ§Ù„ Ø§Ù„ØªØ­Ù‚Ù‚ ============
        
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø­Ø±Ù (Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1)
        function checkLetterSelection(card, letter) {
            if (!gameActive) return;
            
            const isCorrect = letter === selectedLetter;
            
            if (isCorrect) {
                card.classList.add('correct');
                addScore(currentLevel === 'easy' ? 40 : currentLevel === 'medium' ? 50 : 60);
                showFeedback("Ø£Ø­Ø³Ù†Øª! Ù„Ù‚Ø¯ ÙˆØ¬Ø¯Øª Ø§Ù„Ø­Ø±Ù!", "ğŸ‰");
                
                // Ø§Ù„ØªØ­Ù‚Ù‚ Ø¥Ø°Ø§ ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„ØµØ­ÙŠØ­Ø©
                setTimeout(() => {
                    const correctCards = document.querySelectorAll('.letter-game-card.correct');
                    const targetCount = currentLevel === 'easy' ? 3 : currentLevel === 'medium' ? 3 : 3;
                    if (correctCards.length === targetCount) {
                        completeStage();
                    }
                }, 1000);
            } else {
                card.classList.add('wrong');
                addScore(currentLevel === 'easy' ? -5 : currentLevel === 'medium' ? -10 : -15);
                showFeedback("Ø®Ø·Ø£! Ù‡Ø°Ø§ Ù„ÙŠØ³ Ø§Ù„Ø­Ø±Ù Ø§Ù„Ù…Ø·Ù„ÙˆØ¨", "âŒ");
                
                setTimeout(() => {
                    card.classList.remove('wrong');
                }, 1000);
            }
        }
        
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØµÙˆØ±Ø© (Ø§Ù„Ù…Ø±Ø­Ù„Ø© 3)
        function checkImageSelection(card) {
            if (!gameActive) return;
            
            const isCorrect = card.dataset.correct === 'true';
            
            if (isCorrect) {
                card.classList.add('correct');
                addScore(45);
                showFeedback("Ø£Ø­Ø³Ù†Øª! Ù‡Ø°Ù‡ Ø§Ù„ØµÙˆØ±Ø© ØªØ¨Ø¯Ø£ Ø¨Ø§Ù„Ø­Ø±Ù Ø§Ù„Ù…Ø·Ù„ÙˆØ¨", "ğŸ–¼ï¸");
                
                // Ø§Ù„ØªØ­Ù‚Ù‚ Ø¥Ø°Ø§ ØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙˆØ± Ø§Ù„ØµØ­ÙŠØ­Ø©
                setTimeout(() => {
                    const correctCards = document.querySelectorAll('.image-card.correct');
                    const totalCorrect = document.querySelectorAll('.image-card[data-correct="true"]').length;
                    if (correctCards.length === totalCorrect) {
                        completeStage();
                    }
                }, 1000);
            } else {
                card.classList.add('wrong');
                addScore(-12);
                showFeedback("Ø®Ø·Ø£! Ù‡Ø°Ù‡ Ø§Ù„ØµÙˆØ±Ø© Ù„Ø§ ØªØ¨Ø¯Ø£ Ø¨Ø§Ù„Ø­Ø±Ù Ø§Ù„Ù…Ø·Ù„ÙˆØ¨", "âŒ");
                
                setTimeout(() => {
                    card.classList.remove('wrong');
                }, 1000);
            }
        }
        
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØµÙˆØª (Ø§Ù„Ù…Ø±Ø­Ù„Ø© 4)
        function checkSoundSelection(card, letter) {
            if (!gameActive) return;
            
            const isCorrect = letter === selectedLetter;
            
            if (isCorrect) {
                card.classList.add('correct');
                addScore(55);
                showFeedback("Ø£Ø­Ø³Ù†Øª! Ù„Ù‚Ø¯ Ø§Ø®ØªØ±Øª Ø§Ù„Ø­Ø±Ù Ø§Ù„ØµØ­ÙŠØ­", "ğŸ‘‚");
                
                setTimeout(() => {
                    completeStage();
                }, 1000);
            } else {
                card.classList.add('wrong');
                addScore(-18);
                showFeedback("Ø®Ø·Ø£! Ù‡Ø°Ø§ Ù„ÙŠØ³ ØµÙˆØª Ø§Ù„Ø­Ø±Ù Ø§Ù„Ù…Ø·Ù„ÙˆØ¨", "âŒ");
                
                setTimeout(() => {
                    card.classList.remove('wrong');
                }, 1000);
            }
        }
        
        // ============ Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ============
        
        // Ø¥Ø¶Ø§ÙØ© Ù†Ù‚Ø§Ø·
        function addScore(points) {
            score += points;
            if (score < 0) score = 0;
            document.getElementById('scoreDisplay').textContent = score;
        }
        
        // Ø¹Ø±Ø¶ Ø§Ù„ØªØºØ°ÙŠØ© Ø§Ù„Ø±Ø§Ø¬Ø¹Ø©
        function showFeedback(text, icon) {
            document.getElementById('feedbackText').textContent = text;
            document.getElementById('rewardIcon').textContent = icon;
            document.getElementById('rewardIcon').classList.add('celebrate');
            
            setTimeout(() => {
                document.getElementById('rewardIcon').classList.remove('celebrate');
            }, 1500);
        }
        
        // ØªÙ‚Ø¯ÙŠÙ… Ù…Ø³Ø§Ø¹Ø¯Ø©
        function provideHint() {
            if (currentStage === 1) {
                showFeedback(`Ø§Ù„Ø­Ø±Ù Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ Ù‡Ùˆ: ${selectedLetter} - Ø§Ù†Ù‚Ø± Ø¹Ù„ÙŠÙ‡ Ø¹Ù†Ø¯Ù…Ø§ ØªØ¬Ø¯Ù‡`, "ğŸ’¡");
            } else if (currentStage === 3) {
                showFeedback(`Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„ØµÙˆØ± Ø§Ù„ØªÙŠ ØªØ¨Ø¯Ø£ Ø¨Ø­Ø±Ù ${selectedLetter}`, "ğŸ’¡");
            } else if (currentStage === 4) {
                showFeedback(`Ø§Ø³ØªÙ…Ø¹ Ø¬ÙŠØ¯Ø§Ù‹ Ù„Ù„ØµÙˆØª Ø«Ù… Ø§Ø®ØªØ± Ø­Ø±Ù ${selectedLetter}`, "ğŸ’¡");
            } else {
                showFeedback(`ÙÙƒØ± Ø¬ÙŠØ¯Ø§Ù‹ Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©`, "ğŸ’¡");
            }
        }
        
        // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
        function restartStage() {
            startStage();
        }
        
        // Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©
        function nextStage() {
            if (currentStage < 5) {
                currentStage++;
                startStage();
            } else {
                // Ø£ÙƒÙ…Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø±Ø§Ø­Ù„
                showFeedback(`ğŸ‰ ØªÙ‡Ø§Ù†ÙŠÙ†Ø§! Ø£ÙƒÙ…Ù„Øª Ø¬Ù…ÙŠØ¹ Ù…Ø±Ø§Ø­Ù„ Ø­Ø±Ù ${selectedLetter}! ğŸ‰`, "ğŸ†");
                document.getElementById('nextStageBtn').style.display = 'none';
                document.getElementById('feedbackText').classList.add('pulse');
                gameActive = false;
            }
        }
        
        // Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ù…Ø±Ø­Ù„Ø©
        function completeStage() {
            gameActive = false;
            showFeedback(`ğŸŠ Ø£ÙƒÙ…Ù„Øª Ø§Ù„Ù…Ø±Ø­Ù„Ø© ${currentStage} Ø¨Ù†Ø¬Ø§Ø­! ğŸŠ`, "ğŸŒŸ");
            document.getElementById('nextStageBtn').style.display = 'inline-block';
        }
        
        // ============ Ø¯ÙˆØ§Ù„ Ø§Ù„Ø±Ø³Ù… (Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2) ============
        
        // ØªÙ‡ÙŠØ¦Ø© Ù„ÙˆØ­Ø© Ø§Ù„Ø±Ø³Ù…
        function initDrawingCanvas() {
            const canvas = document.getElementById('drawingCanvas');
            const ctx = canvas.getContext('2d');
            
            // Ø¶Ø¨Ø· Ø­Ø¬Ù… Ø§Ù„Ù„ÙˆØ­Ø©
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;
            
            // Ø®Ù„ÙÙŠØ© Ø¨ÙŠØ¶Ø§Ø¡
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            let isDrawing = false;
            let lastX = 0;
            let lastY = 0;
            
            // Ø¨Ø¯Ø¡ Ø§Ù„Ø±Ø³Ù…
            canvas.addEventListener('mousedown', (e) => {
                isDrawing = true;
                [lastX, lastY] = [e.offsetX, e.offsetY];
                ctx.beginPath();
                ctx.moveTo(lastX, lastY);
                ctx.strokeStyle = '#ff8fab';
                ctx.lineWidth = 12;
                ctx.lineCap = 'round';
                ctx.lineJoin = 'round';
            });
            
            // Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø±Ø³Ù…
            canvas.addEventListener('mousemove', (e) => {
                if (!isDrawing) return;
                
                ctx.lineTo(e.offsetX, e.offsetY);
                ctx.stroke();
                [lastX, lastY] = [e.offsetX, e.offsetY];
            });
            
            // Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø±Ø³Ù…
            canvas.addEventListener('mouseup', () => {
                isDrawing = false;
                ctx.closePath();
            });
            
            canvas.addEventListener('mouseout', () => {
                isDrawing = false;
            });
            
            // Ù„Ø¯Ø¹Ù… Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØªÙŠ ØªØ¹Ù…Ù„ Ø¨Ø§Ù„Ù„Ù…Ø³
            canvas.addEventListener('touchstart', (e) => {
                e.preventDefault();
                isDrawing = true;
                const touch = e.touches[0];
                const rect = canvas.getBoundingClientRect();
                [lastX, lastY] = [touch.clientX - rect.left, touch.clientY - rect.top];
                ctx.beginPath();
                ctx.moveTo(lastX, lastY);
                ctx.strokeStyle = '#ff8fab';
                ctx.lineWidth = 12;
                ctx.lineCap = 'round';
                ctx.lineJoin = 'round';
            });
            
            canvas.addEventListener('touchmove', (e) => {
                e.preventDefault();
                if (!isDrawing) return;
                
                const touch = e.touches[0];
                const rect = canvas.getBoundingClientRect();
                ctx.lineTo(touch.clientX - rect.left, touch.clientY - rect.top);
                ctx.stroke();
                [lastX, lastY] = [touch.clientX - rect.left, touch.clientY - rect.top];
            });
            
            canvas.addEventListener('touchend', () => {
                isDrawing = false;
                ctx.closePath();
            });
        }
        
        // Ù…Ø³Ø­ Ø§Ù„Ø±Ø³Ù…
        function clearDrawing() {
            const canvas = document.getElementById('drawingCanvas');
            const ctx = canvas.getContext('2d');
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            showFeedback("ØªÙ… Ù…Ø³Ø­ Ø§Ù„Ø±Ø³Ù… - ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¨Ø¯Ø¡ Ù…Ù† Ø¬Ø¯ÙŠØ¯", "ğŸ§¹");
        }
        
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø±Ø³Ù…
        function checkDrawing() {
            addScore(85);
            showFeedback("Ù…Ù…ØªØ§Ø²! Ù„Ù‚Ø¯ Ø±Ø³Ù…Øª Ø§Ù„Ø­Ø±Ù Ø¨Ø´ÙƒÙ„ Ø±Ø§Ø¦Ø¹", "ğŸ¨");
            
            setTimeout(() => {
                completeStage();
            }, 1500);
        }
        
        // ============ Ø¯ÙˆØ§Ù„ Ø§Ù„ØµÙˆØª (Ø§Ù„Ù…Ø±Ø­Ù„Ø© 4) ============
        
        // Ø¥Ù†Ø´Ø§Ø¡ Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„ØµÙˆØª
        function createSoundOptions() {
            const container = document.getElementById('soundOptionsContainer');
            container.innerHTML = '';
            
            // Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø­Ø±ÙˆÙ (Ø§Ù„Ø­Ø±Ù Ø§Ù„ØµØ­ÙŠØ­ + Ø­Ø±ÙÙŠÙ† Ø®Ø§Ø·Ø¦ÙŠÙ†)
            const allLetters = selectedLanguage === 'arabic' ? arabicLetters : englishLetters;
            const otherLetters = allLetters.filter(l => l !== selectedLetter);
            
            let letters = [selectedLetter];
            for (let i = 0; i < 2; i++) {
                const randomIndex = Math.floor(Math.random() * otherLetters.length);
                letters.push(otherLetters[randomIndex]);
                otherLetters.splice(randomIndex, 1);
            }
            
            // Ø®Ù„Ø· Ø§Ù„Ø­Ø±ÙˆÙ
            letters = shuffleArray(letters);
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„ØµÙˆØª
            letters.forEach(letter => {
                const card = document.createElement('div');
                card.className = `sound-card ${selectedLanguage === 'english' ? 'english' : ''}`;
                card.textContent = letter;
                card.dataset.letter = letter;
                card.onclick = () => checkSoundSelection(card, letter);
                container.appendChild(card);
            });
        }
        
        // ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø§Ù„Ø­Ø±Ù (Ø§Ù„Ù…Ø±Ø­Ù„Ø© 4)
        function playLetterSound() {
            const soundBtn = document.getElementById('playSoundBtn');
            
            // ØªØ£Ø«ÙŠØ± Ù…Ø±Ø¦ÙŠ Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ·
            soundBtn.classList.add('bounce');
            setTimeout(() => soundBtn.classList.remove('bounce'), 1000);
            
            // Ø¹Ø±Ø¶ Ø§Ø³Ù… Ø§Ù„ØµÙˆØª
            const soundName = selectedLanguage === 'arabic' ? 
                arabicLetterSounds[selectedLetter] : 
                englishLetterSounds[selectedLetter];
            
            showFeedback(`ØµÙˆØª Ø­Ø±Ù ${selectedLetter} Ù‡Ùˆ: ${soundName}`, "ğŸ”Š");
            
            // ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­Ø§Øª Ø§Ù„Ø­Ø¯ÙŠØ«Ø©ØŒ ÙŠÙ…ÙƒÙ†Ù†Ø§ Ø§Ø³ØªØ®Ø¯Ø§Ù… Web Speech API
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance();
                
                if (selectedLanguage === 'arabic') {
                    utterance.text = soundName;
                    utterance.lang = 'ar-SA';
                    utterance.rate = 0.8;
                    utterance.pitch = 1.2;
                } else {
                    utterance.text = selectedLetter;
                    utterance.lang = 'en-US';
                    utterance.rate = 0.7;
                }
                
                // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† ØµÙˆØª Ù†Ø³Ø§Ø¦ÙŠ Ø¥Ø°Ø§ Ù…ØªÙˆÙØ±
                const voices = speechSynthesis.getVoices();
                const femaleVoice = voices.find(voice => 
                    (selectedLanguage === 'arabic' && voice.lang.startsWith('ar') && voice.name.includes('Female')) ||
                    (selectedLanguage === 'english' && voice.lang.startsWith('en') && (voice.name.includes('Female') || voice.name.includes('Zira') || voice.name.includes('Samantha')))
                );
                
                if (femaleVoice) {
                    utterance.voice = femaleVoice;
                }
                
                speechSynthesis.speak(utterance);
            }
        }
        
        // ============ Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© (Ø§Ù„Ù…Ø±Ø­Ù„Ø© 5) ============
        
        // Ø¥Ù†Ø´Ø§Ø¡ Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©
        function createReviewQuestions() {
            const container = document.getElementById('reviewContainer');
            container.innerHTML = '';
            
            // Ø¥Ù†Ø´Ø§Ø¡ 4 Ø£Ø³Ø¦Ù„Ø© Ù…ØªÙ†ÙˆØ¹Ø©
            const questions = [
                {
                    type: 'letter',
                    question: `Ø£ÙŠ Ù…Ù† Ù‡Ø°Ù‡ Ø§Ù„Ø­Ø±ÙˆÙ Ù‡Ùˆ Ø­Ø±Ù ${selectedLetter}ØŸ`,
                    options: generateLetterOptions(selectedLetter, 4),
                    correctIndex: 0
                },
                {
                    type: 'image',
                    question: `Ø£ÙŠ Ù…Ù† Ù‡Ø°Ù‡ Ø§Ù„ØµÙˆØ± ØªØ¨Ø¯Ø£ Ø¨Ø­Ø±Ù ${selectedLetter}ØŸ`,
                    options: generateImageOptions(selectedLetter, 4),
                    correctIndex: 0
                },
                {
                    type: 'sound',
                    question: `Ø¥Ø°Ø§ Ø³Ù…Ø¹Øª ØµÙˆØª "${selectedLanguage === 'arabic' ? arabicLetterSounds[selectedLetter] : englishLetterSounds[selectedLetter]}" ÙØ£ÙŠ Ø­Ø±Ù Ù‡Ø°Ø§ØŸ`,
                    options: generateLetterOptions(selectedLetter, 4),
                    correctIndex: 0
                },
                {
                    type: 'writing',
                    question: `ÙƒÙŠÙ ÙŠÙƒØªØ¨ Ø­Ø±Ù ${selectedLetter}ØŸ`,
                    options: generateWritingOptions(selectedLetter, 4),
                    correctIndex: 0
                }
            ];
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
            questions.forEach((q, index) => {
                const questionCard = document.createElement('div');
                questionCard.className = 'review-card';
                
                let optionsHtml = '';
                q.options.forEach((option, optIndex) => {
                    let displayText = option;
                    if (q.type === 'image') {
                        displayText = `${option.emoji} ${option.name}`;
                    }
                    
                    optionsHtml += `
                        <div class="review-option" data-index="${optIndex}">
                            ${displayText}
                        </div>
                    `;
                });
                
                questionCard.innerHTML = `
                    <div class="review-question">${q.question}</div>
                    <div class="review-options">${optionsHtml}</div>
                `;
                
                container.appendChild(questionCard);
                
                // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹Ø§Øª Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
                setTimeout(() => {
                    const options = questionCard.querySelectorAll('.review-option');
                    options.forEach((option, optIndex) => {
                        option.addEventListener('click', () => checkReviewAnswer(index, optIndex, q.correctIndex, questionCard));
                    });
                }, 100);
            });
        }
        
        // ØªÙˆÙ„ÙŠØ¯ Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø­Ø±ÙˆÙ
        function generateLetterOptions(correctLetter, count) {
            const allLetters = selectedLanguage === 'arabic' ? arabicLetters : englishLetters;
            const otherLetters = allLetters.filter(l => l !== correctLetter);
            
            let options = [correctLetter];
            for (let i = 1; i < count; i++) {
                const randomIndex = Math.floor(Math.random() * otherLetters.length);
                options.push(otherLetters[randomIndex]);
                otherLetters.splice(randomIndex, 1);
            }
            
            return shuffleArray(options);
        }
        
        // ØªÙˆÙ„ÙŠØ¯ Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„ØµÙˆØ±
        function generateImageOptions(correctLetter, count) {
            const images = selectedLanguage === 'arabic' ? arabicImages : englishImages;
            const correctImage = images[correctLetter] ? images[correctLetter][0] : { emoji: 'â“', name: 'ØµÙˆØ±Ø©' };
            
            let options = [correctImage];
            
            // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ØµÙˆØ± Ù…Ù† Ø­Ø±ÙˆÙ Ø£Ø®Ø±Ù‰
            const otherLetters = selectedLanguage === 'arabic' ? 
                arabicLetters.filter(l => l !== correctLetter) : 
                englishLetters.filter(l => l !== correctLetter);
            
            for (let i = 1; i < count; i++) {
                const randomLetter = otherLetters[Math.floor(Math.random() * otherLetters.length)];
                const randomImage = images[randomLetter] ? images[randomLetter][0] : { emoji: 'â“', name: 'ØµÙˆØ±Ø©' };
                options.push(randomImage);
                
                // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø­Ø±Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
                const letterIndex = otherLetters.indexOf(randomLetter);
                if (letterIndex > -1) otherLetters.splice(letterIndex, 1);
            }
            
            return shuffleArray(options);
        }
        
        // ØªÙˆÙ„ÙŠØ¯ Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„ÙƒØªØ§Ø¨Ø©
        function generateWritingOptions(correctLetter, count) {
            const allLetters = selectedLanguage === 'arabic' ? arabicLetters : englishLetters;
            const similarLetters = allLetters.filter(l => l !== correctLetter);
            
            let options = [correctLetter];
            for (let i = 1; i < count; i++) {
                const randomIndex = Math.floor(Math.random() * similarLetters.length);
                options.push(similarLetters[randomIndex]);
                similarLetters.splice(randomIndex, 1);
            }
            
            return shuffleArray(options);
        }
        
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©
        function checkReviewAnswer(questionIndex, selectedIndex, correctIndex, questionCard) {
            if (!gameActive) return;
            
            const options = questionCard.querySelectorAll('.review-option');
            
            // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ¯ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª
            options.forEach(opt => {
                opt.classList.remove('selected', 'correct', 'wrong');
            });
            
            // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ù…Ø®ØªØ§Ø±
            options[selectedIndex].classList.add('selected');
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©
            if (selectedIndex === correctIndex) {
                options[selectedIndex].classList.add('correct');
                addScore(20);
                
                // Ø§Ù„ØªØ­Ù‚Ù‚ Ø¥Ø°Ø§ Ø£Ø¬Ø§Ø¨ Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
                setTimeout(() => {
                    const selectedOptions = document.querySelectorAll('.review-option.selected');
                    if (selectedOptions.length === 4) {
                        completeStage();
                    }
                }, 500);
            } else {
                options[selectedIndex].classList.add('wrong');
                options[correctIndex].classList.add('correct');
                addScore(-8);
            }
        }
        
        // ============ Ø¯ÙˆØ§Ù„ Ù…Ø³Ø§Ø¹Ø¯Ø© Ø¹Ø§Ù…Ø© ============
        
        // Ø®Ù„Ø· Ø§Ù„Ù…ØµÙÙˆÙØ©
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }
        
        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        window.addEventListener('load', () => {
            showScreen('languageScreen');
            
            // ØªÙ‡ÙŠØ¦Ø© Web Speech API Ø¹Ù†Ø¯ ØªÙˆÙØ±Ù‡Ø§
            if ('speechSynthesis' in window) {
                // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£ØµÙˆØ§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©
                speechSynthesis.getVoices();
                
                // Ø¨Ø¹Ø¶ Ø§Ù„Ù…ØªØµÙØ­Ø§Øª ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ù‡Ø°Ø§ Ø§Ù„Ø­Ø¯Ø«
                speechSynthesis.onvoiceschanged = () => {
                    // Ø§Ù„Ø£ØµÙˆØ§Øª Ø£ØµØ¨Ø­Øª Ø¬Ø§Ù‡Ø²Ø©
                };
            }
        });
    </script>
</body>
</html>